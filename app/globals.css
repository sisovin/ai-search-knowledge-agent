@tailwind base;
@tailwind components;
@tailwind utilities;

/* Modern AI app color scheme and typography */
@layer base {
  :root {
    /* Base Colors */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;

    /* Card & UI Elements */
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --card-hover: 220 14% 96%;
    
    /* Popover/Dialog */
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Primary Colors - Modern Blue */
    --primary-lighter: 224 100% 90%;
    --primary-light: 224 100% 77%;
    --primary: 224 76% 58%;
    --primary-dark: 224 76% 48%; 
    --primary-darker: 224 76% 38%;
    --primary-foreground: 0 0% 100%;

    /* Secondary Colors - Subtle Gray */
    --secondary-lighter: 220 14% 96%;
    --secondary-light: 220 13% 91%;
    --secondary: 220 13% 80%;
    --secondary-dark: 220 13% 69%;
    --secondary-darker: 220 13% 59%;
    --secondary-foreground: 222 47% 11%;

    /* Accent Colors - Teal */
    --accent-lighter: 180 100% 90%;
    --accent-light: 180 85% 70%;
    --accent: 180 70% 45%;
    --accent-dark: 180 70% 35%;
    --accent-darker: 180 70% 25%;
    --accent-foreground: 0 0% 100%;

    /* Success, Warning, Error States */
    --success: 142 76% 43%;
    --success-foreground: 0 0% 100%;
    
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Muted & UI Colors */
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 40%;

    /* Border, Input & Ring Colors */
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 224 76% 58%;

    /* Shadow Colors & Effects */
    --shadow-light: 220 40% 2%;
    --shadow-dark: 222 47% 11%;
    
    /* Border Radius */
    --radius-small: 0.25rem;
    --radius: 0.5rem;
    --radius-medium: 0.75rem;
    --radius-large: 1rem;
    --radius-xl: 1.5rem;
    --radius-full: 9999px;
    
    /* Typography */
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                 Roboto, 'Helvetica Neue', sans-serif;
    --font-mono: 'JetBrains Mono', Menlo, Monaco, Consolas, 'Courier New', monospace;
    
    /* Font Weights */
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    
    /* Line Heights */
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;
    
    /* Spacing */
    --spacing-unit: 0.25rem;
    
    /* Animation */
    --transition-fast: 150ms;
    --transition-normal: 250ms;
    --transition-slow: 350ms;
    
    /* AI-specific elements */
    --ai-suggestion: 264 100% 98%;
    --ai-suggestion-foreground: 264 90% 40%;
    
    --ai-loading: 224 100% 95%;
    --ai-thinking: 204 100% 95%;
    
    /* Language selection indicators */
    --lang-en: 224 76% 58%;
    --lang-kh: 342 80% 55%;
  }

  .dark {
    /* Base Colors */
    --background: 224 40% 10%;
    --foreground: 213 31% 91%;

    /* Card & UI Elements */
    --card: 224 32% 13%;
    --card-foreground: 213 31% 91%;
    --card-hover: 224 32% 16%;
    
    /* Popover/Dialog */
    --popover: 224 32% 13%;
    --popover-foreground: 213 31% 91%;

    /* Primary Colors - Modern Blue */
    --primary-lighter: 224 70% 70%;
    --primary-light: 224 70% 65%;
    --primary: 224 70% 60%;
    --primary-dark: 224 70% 50%;
    --primary-darker: 224 70% 45%;
    --primary-foreground: 213 31% 91%;

    /* Secondary Colors - Darker Gray */
    --secondary-lighter: 224 25% 25%;
    --secondary-light: 224 25% 23%;
    --secondary: 224 25% 18%;
    --secondary-dark: 224 25% 15%;
    --secondary-darker: 224 25% 10%;
    --secondary-foreground: 213 31% 91%;

    /* Accent Colors - Teal */
    --accent-lighter: 180 70% 55%;
    --accent-light: 180 70% 50%;
    --accent: 180 70% 40%;
    --accent-dark: 180 70% 30%;
    --accent-darker: 180 70% 20%;
    --accent-foreground: 213 31% 91%;

    /* Success, Warning, Error States */
    --success: 142 70% 40%;
    --success-foreground: 0 0% 100%;
    
    --warning: 35 92% 50%;
    --warning-foreground: 0 0% 0%;
    
    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 100%;

    /* Muted & UI Colors */
    --muted: 224 25% 18%;
    --muted-foreground: 215 20% 65%;

    /* Border, Input & Ring Colors */
    --border: 224 25% 25%;
    --input: 224 25% 20%;
    --ring: 224 70% 60%;
    
    /* Shadow Colors */
    --shadow-light: 224 40% 2%;
    --shadow-dark: 222 47% 2%;
    
    /* AI-specific elements */
    --ai-suggestion: 264 30% 22%;
    --ai-suggestion-foreground: 264 90% 80%;
    
    --ai-loading: 224 30% 15%;
    --ai-thinking: 204 30% 20%;
    
    /* Language selection indicators - slightly modified for dark mode */
    --lang-en: 224 70% 60%;
    --lang-kh: 342 70% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: var(--font-sans);
  }
  
  /* Focus styles for accessibility */
  *:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
  
  /* Improved code blocks */
  pre, code {
    font-family: var(--font-mono);
  }
}

/* Component-specific styles */
@layer components {
  /* Dark/Light Mode Transition */
  .theme-transition {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: var(--transition-normal);
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Search Component Styles */
  .search-input {
    @apply bg-background border border-input rounded-[var(--radius)] px-3 py-2 text-sm ring-offset-background;
  }
  
  .search-input:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2;
  }
  
  .search-results {
    @apply rounded-[var(--radius)] bg-card p-4 shadow-md dark:shadow-lg;
    box-shadow: 0px 4px 20px rgba(var(--shadow-light), 0.08);
  }
  
  .dark .search-results {
    box-shadow: 0px 4px 20px rgba(var(--shadow-dark), 0.2);
  }
  
  /* Content Scraper Styles */
  .content-viewer {
    @apply rounded-[var(--radius)] bg-card border border-border p-4;
  }
  
  .content-viewer pre {
    @apply bg-muted text-muted-foreground p-4 rounded-[var(--radius-small)] overflow-x-auto;
    font-size: 0.9em;
  }
  
  .content-viewer code {
    @apply bg-muted px-1.5 py-0.5 rounded-[var(--radius-small)];
    font-size: 0.9em;
  }
  
  /* URL Input with validation states */
  .url-input {
    @apply bg-background border border-input rounded-[var(--radius)] px-3 py-2 text-sm ring-offset-background;
    transition: border-color var(--transition-fast) ease;
  }
  
  .url-input.valid {
    @apply border-success;
  }
  
  .url-input.invalid {
    @apply border-destructive;
  }
  
  /* AI-specific UI elements */
  .ai-suggestion {
    @apply bg-[hsl(var(--ai-suggestion))] text-[hsl(var(--ai-suggestion-foreground))] p-2 rounded-[var(--radius)] border border-[hsl(var(--ai-suggestion-foreground)/20%)];
  }
  
  .ai-thinking {
    @apply bg-[hsl(var(--ai-thinking))] p-4 rounded-[var(--radius)] animate-pulse;
  }
  
  .ai-result {
    @apply border-l-4 border-[hsl(var(--primary))] pl-4 my-2;
  }
  
  /* Language Switch Styles */
  .lang-indicator {
    @apply inline-flex items-center justify-center rounded-full w-6 h-6 text-xs font-medium;
  }
  
  .lang-en {
    @apply bg-[hsl(var(--lang-en)/15%)] text-[hsl(var(--lang-en))];
  }
  
  .lang-kh {
    @apply bg-[hsl(var(--lang-kh)/15%)] text-[hsl(var(--lang-kh))];
  }
  
  /* Language-specific typography adjustments */
  [lang="en"] {
    line-height: var(--line-height-normal);
    letter-spacing: 0;
  }
  
  [lang="kh"] {
    line-height: var(--line-height-relaxed);
    letter-spacing: 0.01em;
  }
  
  /* Loading States */
  @keyframes loading-gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  .loading-gradient {
    background: linear-gradient(90deg, 
      hsl(var(--muted)) 0%, 
      hsl(var(--muted-foreground/10%)) 50%, 
      hsl(var(--muted)) 100%
    );
    background-size: 200% 100%;
    animation: loading-gradient 1.5s ease-in-out infinite;
  }
  
  /* Responsive layout adjustments */
  .responsive-container {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  @media (max-width: 640px) {
    .hide-on-mobile {
      display: none;
    }
  }
  
  /* Enhanced buttons - language and mode specific */
  .enhanced-btn {
    @apply inline-flex items-center justify-center rounded-[var(--radius)] text-sm font-medium transition-colors 
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 
      disabled:opacity-50 disabled:pointer-events-none ring-offset-background;
  }

  .enhanced-btn-primary {
    @apply bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] hover:bg-[hsl(var(--primary-dark))];
  }
  
  .enhanced-btn-secondary {
    @apply bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))] hover:bg-[hsl(var(--secondary-dark))];
  }
  
  /* Language specific button padding */
  [lang="en"] .enhanced-btn {
    @apply px-4 py-2;
  }
  
  [lang="kh"] .enhanced-btn {
    @apply px-5 py-2;
  }
}
