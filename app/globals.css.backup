@tailwind base;
@tailwind components;
@tailwind utilities;

/* Modern AI app color scheme and typography */
@layer base {
  :root {
    /* Base Colors */
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;

    /* Card & UI Elements */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --card-hover: 220 14% 96%;

    /* Popover/Dialog */
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;

    /* Primary Colors - Modern Blue */
    --primary-lighter: 224 100% 90%;
    --primary-light: 224 100% 77%;
    --primary: 0 0% 9%;
    --primary-dark: 224 76% 48%;
    --primary-darker: 224 76% 38%;
    --primary-foreground: 0 0% 98%;

    /* Secondary Colors - Subtle Gray */
    --secondary-lighter: 220 14% 96%;
    --secondary-light: 220 13% 91%;
    --secondary: 0 0% 96.1%;
    --secondary-dark: 220 13% 69%;
    --secondary-darker: 220 13% 59%;
    --secondary-foreground: 0 0% 9%;

    /* Accent Colors - Teal */
    --accent-lighter: 180 100% 90%;
    --accent-light: 180 85% 70%;
    --accent: 0 0% 96.1%;
    --accent-dark: 180 70% 35%;
    --accent-darker: 180 70% 25%;
    --accent-foreground: 0 0% 9%;

    /* Success, Warning, Error States */
    --success: 142 76% 43%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    /* Muted & UI Colors */
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;

    /* Border, Input & Ring Colors */
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;

    /* Shadow Colors & Effects */
    --shadow-light: 220 40% 2%;
    --shadow-dark: 222 47% 11%;

    /* Border Radius */
    --radius-small: 0.25rem;
    --radius: 0.5rem;
    --radius-medium: 0.75rem;
    --radius-large: 1rem;
    --radius-xl: 1.5rem;
    --radius-full: 9999px;
    /* Typography */
    --font-sans:
      var(--font-inter), system-ui, -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
    --font-mono:
      var(--font-jetbrains-mono), Menlo, Monaco, Consolas, "Courier New",
      monospace;

    /* Font Weights */
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Line Heights */
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;

    /* Spacing */
    --spacing-unit: 0.25rem;

    /* Animation */
    --transition-fast: 150ms;
    --transition-normal: 250ms;
    --transition-slow: 350ms;

    /* AI-specific elements */
    --ai-suggestion: 264 100% 98%;
    --ai-suggestion-foreground: 264 90% 40%;

    --ai-loading: 224 100% 95%;
    --ai-thinking: 204 100% 95%;

    /* Language selection indicators */
    --lang-en: 224 76% 58%;
    --lang-kh: 342 80% 55%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Base Colors */
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;

    /* Card & UI Elements */
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --card-hover: 224 32% 16%;

    /* Popover/Dialog */
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;

    /* Primary Colors - Modern Blue */
    --primary-lighter: 224 70% 70%;
    --primary-light: 224 70% 65%;
    --primary: 0 0% 98%;
    --primary-dark: 224 70% 50%;
    --primary-darker: 224 70% 45%;
    --primary-foreground: 0 0% 9%;

    /* Secondary Colors - Darker Gray */
    --secondary-lighter: 224 25% 25%;
    --secondary-light: 224 25% 23%;
    --secondary: 0 0% 14.9%;
    --secondary-dark: 224 25% 15%;
    --secondary-darker: 224 25% 10%;
    --secondary-foreground: 0 0% 98%;

    /* Accent Colors - Teal */
    --accent-lighter: 180 70% 55%;
    --accent-light: 180 70% 50%;
    --accent: 0 0% 14.9%;
    --accent-dark: 180 70% 30%;
    --accent-darker: 180 70% 20%;
    --accent-foreground: 0 0% 98%;

    /* Success, Warning, Error States */
    --success: 142 70% 40%;
    --success-foreground: 0 0% 100%;

    --warning: 35 92% 50%;
    --warning-foreground: 0 0% 0%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    /* Muted & UI Colors */
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;

    /* Border, Input & Ring Colors */
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;

    /* Shadow Colors */
    --shadow-light: 224 40% 2%;
    --shadow-dark: 222 47% 2%;

    /* AI-specific elements */
    --ai-suggestion: 264 30% 22%;
    --ai-suggestion-foreground: 264 90% 80%;

    --ai-loading: 224 30% 15%;
    --ai-thinking: 204 30% 20%;

    /* Language selection indicators - slightly modified for dark mode */
    --lang-en: 224 70% 60%;
    --lang-kh: 342 70% 60%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
    font-family: var(--font-sans);
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* Improved code blocks */
  pre,
  code {
    font-family: var(--font-mono);
  }
}

/* Component-specific styles */
@layer components {
  /* Dark/Light Mode Transition */
  .theme-transition {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: var(--transition-normal);
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Search Component Styles */
  .search-input {
    @apply bg-background border border-input rounded-[var(--radius)] px-3 py-2 text-sm ring-offset-background;
  }

  .search-input:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2;
  }

  .search-results {
    @apply rounded-[var(--radius)] bg-card p-4 shadow-md dark:shadow-lg;
    box-shadow: 0px 4px 20px rgba(var(--shadow-light), 0.08);
  }

  .dark .search-results {
    box-shadow: 0px 4px 20px rgba(var(--shadow-dark), 0.2);
  }

  /* Content Scraper Styles */
  .content-viewer {
    @apply rounded-[var(--radius)] bg-card border border-border p-4;
  }

  .content-viewer pre {
    @apply bg-muted text-muted-foreground p-4 rounded-[var(--radius-small)] overflow-x-auto;
    font-size: 0.9em;
  }

  .content-viewer code {
    @apply bg-muted px-1.5 py-0.5 rounded-[var(--radius-small)];
    font-size: 0.9em;
  }

  /* URL Input with validation states */
  .url-input {
    @apply bg-background border border-input rounded-[var(--radius)] px-3 py-2 text-sm ring-offset-background;
    transition: border-color var(--transition-fast) ease;
  }

  .url-input.valid {
    @apply border-success;
  }

  .url-input.invalid {
    @apply border-destructive;
  }

  /* AI-specific UI elements */
  .ai-suggestion {
    @apply bg-[hsl(var(--ai-suggestion))] text-[hsl(var(--ai-suggestion-foreground))] p-2 rounded-[var(--radius)] border border-[hsl(var(--ai-suggestion-foreground)/20%)];
  }

  .ai-thinking {
    @apply bg-[hsl(var(--ai-thinking))] p-4 rounded-[var(--radius)] animate-pulse;
  }

  .ai-result {
    @apply border-l-4 border-[hsl(var(--primary))] pl-4 my-2;
  }

  /* Language Switch Styles */
  .lang-indicator {
    @apply inline-flex items-center justify-center rounded-full w-6 h-6 text-xs font-medium;
  }

  .lang-en {
    @apply bg-[hsl(var(--lang-en)/15%)] text-[hsl(var(--lang-en))];
  }

  .lang-kh {
    @apply bg-[hsl(var(--lang-kh)/15%)] text-[hsl(var(--lang-kh))];
  }

  /* Language-specific typography adjustments */
  [lang="en"] {
    line-height: var(--line-height-normal);
    letter-spacing: 0;
  }

  [lang="kh"] {
    line-height: var(--line-height-relaxed);
    letter-spacing: 0.01em;
  }

  /* Loading States */
  @keyframes loading-gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .loading-gradient {
    background: linear-gradient(
      90deg,
      hsl(var(--muted)) 0%,
      hsl(var(--muted-foreground/10%)) 50%,
      hsl(var(--muted)) 100%
    );
    background-size: 200% 100%;
    animation: loading-gradient 1.5s ease-in-out infinite;
  }

  /* Responsive layout adjustments */
  .responsive-container {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  @media (max-width: 640px) {
    .hide-on-mobile {
      display: none;
    }
  }

  /* Enhanced buttons - language and mode specific */
  .enhanced-btn {
    @apply inline-flex items-center justify-center rounded-[var(--radius)] text-sm font-medium transition-colors 
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 
      disabled:opacity-50 disabled:pointer-events-none ring-offset-background;
  }

  .enhanced-btn-primary {
    @apply bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] hover:bg-[hsl(var(--primary-dark))];
  }

  .enhanced-btn-secondary {
    @apply bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))] hover:bg-[hsl(var(--secondary-dark))];
  }

  /* Language specific button padding */
  [lang="en"] .enhanced-btn {
    @apply px-4 py-2;
  }

  [lang="kh"] .enhanced-btn {
    @apply px-5 py-2;
  }
}
